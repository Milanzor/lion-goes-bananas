(self.webpackChunklion_goes_bananas=self.webpackChunklion_goes_bananas||[]).push([[826],{685:(t,e,s)=>{"use strict";var i=s(260),a=s.n(i);const o="/logo.png",h="/sunburst.png",n="/jungle-drum-music.mp3";class r extends a().Scene{constructor(){super("launch")}preload(){this.load.image(o,o),this.load.image(h,h),this.load.audio(n,n)}create(){let t=this.add.graphics();t.fillGradientStyle(40494,22041,22041,40494,1),t.fillRect(0,0,this.sys.canvas.width,this.sys.canvas.height);let e=this.add.image(this.sys.canvas.width/2,this.sys.canvas.height/2,h);e.displayWidth=this.sys.canvas.width,e.displayHeight=this.sys.canvas.height,e.setScale(5),this.tweens.add({targets:e,ease:"Quad.easeInOut",duration:5600,repeat:-1,rotation:3,yoyo:!0}),this._logo(),this._spaceToStartText(),this.input.keyboard.on("keydown-SPACE",(function(){this.scene.start("main")}),this),this.input.on("pointerup",(function(){this.scene.start("main")}),this)}_spaceToStartText(){let t=this.add.text(0,0,"Press Space to start",{fontSize:"42px",fontFamily:"Arial",fontStyle:"bold",fill:"white"});t.setPosition(this.sys.canvas.width/2,this.sys.canvas.height/2+350),t.setOrigin(.5),t.setShadow(7,7,"rgba(0,0,0,1)",2),t.setResolution(2),t.setAlpha(0),this.tweens.add({targets:t,ease:"Quad.easeInOut",duration:1e3,delay:2e3,alpha:.8,repeat:-1,yoyo:!0})}_logo(){let t=this.add.image(this.sys.canvas.width/2,-500,o);t.setScale(1),t.setOrigin(.5),this.tweens.add({targets:t,ease:"Quad.easeInOut",duration:500,repeat:-1,repeatDelay:2e3,delay:2700,scale:"+=0.1",rotation:-.05,yoyo:!0}),this.tweens.add({targets:t,ease:"Quad.easeInOut",duration:500,repeat:0,delay:500,y:this.sys.canvas.height/2+170}),this.tweens.add({targets:t,ease:"Quad.easeInOut",duration:500,repeat:0,delay:1e3,y:"-=100"})}}const l="/lion.png",d="/banana.png",p="/bg.jpg",c="/meat.png",y="/lion_ate_meat.png",u="/cloud.png",m="/monkey.png";class g{constructor(t){return this.scene=t,this._playerSprite=this.scene.physics.add.sprite(t.sys.game.canvas.width/2,t.sys.game.canvas.height,l),this._playerSprite.setBounce(0),this._playerSprite.setCollideWorldBounds(!0),this._playerSprite.isOnWorldBounds=!0,this._meatTimeout=null,this.homeostasis(),this}homeostasis(){this._ateMeat=!1,this._playerSprite.setGravityY(5e3),this.setSpeedWalk(),this._playerSprite.setScale(1),this._playerSprite.setTexture(l)}moveLeft(){this._playerSprite.setVelocityX(-1*this.movementSpeed),this._playerSprite.setFlipX(!1)}moveRight(){this._playerSprite.setVelocityX(this.movementSpeed),this._playerSprite.setFlipX(!0)}stationary(){this._playerSprite.setVelocityX(0)}jump(){this._playerSprite.setVelocityY(-1*this.jumpSpeed),this.scene.jump.play()}isNotJumpingOrFalling(){return 0===this._playerSprite.body.velocity.y}getSprite(){return this._playerSprite}setSpeedWalk(){this.movementSpeed=1e3,this.jumpSpeed=2e3}setSpeedSprint(){this.movementSpeed=1500,this.jumpSpeed=3e3}powerUpMeat(){this._ateMeat=!0,this.scene.roar.play(),this.movementSpeed=2e3,this._playerSprite.setScale(1.5),this._playerSprite.setTexture(y),this._meatTimeout&&clearTimeout(this._meatTimeout),this._meatTimeout=setTimeout((()=>{this.homeostasis()}),5e3)}isPoweredUpByMeat(){return this._ateMeat}}const w=class{constructor(t,e){let s,i,o;if(e){s=a().Math.FloatBetween(1,2);let e=a().Math.Between(0,1);i=t.sys.game.canvas.width/2;let h=a().Math.Between(350,850);1===e?i-=h:i+=h,o=-900}else i=a().Math.Between(0,t.sys.game.canvas.width),s=a().Math.FloatBetween(.15,.25),o=-200;const h=t.physics.add.sprite(i,o,d);return h.setBounce(0),h.setCollideWorldBounds(!0),h.setGravityY(15e3),h.setFlipX(!!a().Math.Between(0,1)),h.setScale(s),h._isBig=e,h}},S=class{constructor(t,e,s){const i=t.physics.add.sprite(e,s,u);let o=a().Math.Between(0,1),h=a().Math.FloatBetween(.05,.15);return i.setFlipX(!!o),i.setScale(h),i.setBounce(0),i.setCollideWorldBounds(!0),i.body.setAllowGravity(!1),t.tweens.add({targets:i,ease:"Quad.easeInOut",duration:a().Math.Between(5e3,1e4),repeat:-1,yoyo:!0,x:"+=100"}),i}},_="/pop.mp3",v="/jump.mp3",b="/roar.mp3",B="/monkey-laugh.mp3",k="/monkey-chest.mp3";class f extends a().Scene{constructor(){super("main")}preload(){this.load.image(p,p),this.load.image(l,l),this.load.image(d,d),this.load.image(c,c),this.load.image(y,y),this.load.image(u,u),this.load.image(m,m),this.load.audio(_,_),this.load.audio(v,v),this.load.audio(b,b),this.load.audio(n,n),this.load.audio(B,B),this.load.audio(k,k)}create(){this.game.sound.stopAll(),this.bg=this.add.image(0,0,p),this.bg.setOrigin(0,0),this.bg.displayWidth=this.sys.canvas.width,this.bg.displayHeight=this.sys.canvas.height,this._setupClouds(),this.physics.world.setFPS(144),this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"52px",fontFamily:"Arial",fontStyle:"bold",fill:"white"}),this.scoreText.setShadow(5,5,"rgba(0,0,0,1)",2),this.scoreText.setResolution(2),this.score=0,this.player=new g(this),this.cursors=this.input.keyboard.createCursorKeys(),this.bananas=this.physics.add.group(),this.meats=this.physics.add.group(),this.physics.add.collider(this.bananas,this.player.getSprite(),this.bananaHit,null,this),this.physics.add.collider(this.meats,this.player.getSprite(),this.powerUpMeat,null,this),this.monkey=new class{constructor(t){return this.scene=t,this._monkeySprite=this.scene.physics.add.sprite(-500,this.scene.sys.game.canvas.height,m),this._monkeySprite.setOrigin(0,1),this._monkeySprite.setCollideWorldBounds(!1),this._monkeySprite.body.setAllowGravity(!1),this}show(){this.scene.monkeyChest.play(),this.scene.tweens.add({targets:this._monkeySprite,ease:"Linear",duration:600,repeat:0,yoyo:!1,x:"+=500"}),setTimeout((()=>{this.scene.tweens.add({targets:this._monkeySprite,ease:"Linear",duration:600,repeat:0,yoyo:!1,x:"-=500"})}),3e3)}}(this),this.time.addEvent({delay:300,callback:this._spawnBanana,callbackScope:this,repeat:-1}),this.time.addEvent({delay:1e4,callback:this._spawnMeat,callbackScope:this,repeat:-1}),this.time.addEvent({delay:8e3,callback:this._showMonkey,callbackScope:this,repeat:0}),this.pop=this.sound.add(_,{loop:!1}),this.jump=this.sound.add(v,{loop:!1,volume:.3}),this.roar=this.sound.add(b,{loop:!1}),this.jungleDrumMusic=this.sound.add(n,{loop:!0}).play(),this.monkeyChest=this.sound.add(k,{loop:!1,volume:2}),this._isMobile=!1,this._deviceBeta=0,window.DeviceOrientationEvent&&"ontouchstart"in window&&(this._isMobile=!0,window.addEventListener("deviceorientation",(t=>{this._deviceBeta=t.beta})))}_setupClouds(){let t=this.sys.game.canvas.width/2;new S(this,t-350,420),new S(this,t+400,520)}_spawnBanana(){this.score+=10,this.scoreText.setText(`Score: ${this.score}`),this.bananas.add(new w(this))}_spawnBigBanana(){this.bananas.add(new w(this,!0))}_spawnMeat(){this.meats.add(new class{constructor(t){const e=a().Math.Between(0,t.sys.game.canvas.width),s=t.physics.add.sprite(e,-200,c);let i=a().Math.FloatBetween(.5,.8),o=a().Math.Between(0,1);return s.setFlipX(!!o),s.setScale(i),s.setBounce(0),s.setCollideWorldBounds(!0),s.setGravityY(35e3),s}}(this))}_showMonkey(){this.monkey.show(),setTimeout((()=>{this._spawnBigBanana()}),1500),this.time.addEvent({delay:a().Math.Between(5e3,1e4),callback:this._showMonkey,callbackScope:this,repeat:0})}update(t,e){this._isMobile?this._deviceBeta<0?this.player.moveLeft():this.player.moveRight():(this.cursors.shift.isDown?this.player.setSpeedSprint():this.player.setSpeedWalk(),this.cursors.left.isDown?this.player.moveLeft():this.cursors.right.isDown?this.player.moveRight():this.player.stationary(),this.cursors.up.isDown&&this.player.isNotJumpingOrFalling()&&this.player.jump())}bananaHit(t,e){this.player.isPoweredUpByMeat()?(this.score+=e._isBig?1e3:100,e.destroy()):this.scene.start("score",{score:this.score})}powerUpMeat(t,e){this.player.powerUpMeat(),e.destroy()}}const M="/gameover.mp3";class x extends a().Scene{constructor(){super("score")}preload(){this.load.image(p,p),this.load.audio(M,M)}init(t){this.score=t.score}create(){this.bg=this.add.image(0,0,p),this.bg.setOrigin(0,0),this.bg.displayWidth=this.sys.canvas.width,this.bg.displayHeight=this.sys.canvas.height;let t=this.add.text(0,0,`Final score: ${this.score}`,{fontSize:"92px",fontFamily:"Arial",fontStyle:"bold",fill:"white"});t.setShadow(3,3,"rgba(0,0,0,0.8)",2),t.setPosition(this.sys.canvas.width/2,this.sys.canvas.height/2),t.setOrigin(.5),t.setResolution(2),t.setShadow(5,5,"rgba(0,0,0,1)",2),t.setResolution(2);let e=this.add.text(0,0,"Press Space to restart",{fontSize:"42px",fontFamily:"Arial",fontStyle:"bold",fill:"white"});e.setShadow(3,3,"rgba(0,0,0,1)",2),e.setResolution(2),e.setPosition(this.sys.canvas.width/2,this.sys.canvas.height/2+70),e.setOrigin(.5),this.input.keyboard.on("keydown-SPACE",(function(){this.scene.start("main")}),this),this.input.on("pointerup",(function(){this.scene.start("main")}),this),this.game.sound.stopAll();let s=this.sound.add(M,{loop:!1}),i=this.sound.add(B,{loop:!1});s.play(),i.play()}}const T={type:a().AUTO,physics:{default:"arcade",arcade:{gravity:{y:2e3}}},scale:{parent:"lion",mode:a().Scale.FIT,autoCenter:a().Scale.CENTER_BOTH,width:2560,height:1440},scene:[r,f,x]};new(a().Game)(T)}},t=>{"use strict";t.O(0,[216],(()=>(685,t(t.s=685)))),t.O()}]);
//# sourceMappingURL=index.js.map